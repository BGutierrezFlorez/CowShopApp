<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Crear Cuenta</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link href="css/registrarse.css" rel="stylesheet">
</head>
<body>
  <div class="auth-container">
    <div class="form-section">
      <div class="form-content">
        <a href="index.html" class="back-link">← Volver al inicio</a>
        <h1>Crear una cuenta</h1>

        <form id="registrationForm" novalidate>
          <!-- Campos básicos -->
          <div class="form-group">
            <label for="fullName">Nombre</label>
            <input id="fullName" name="FullName" type="text" class="form-control" required>
            <div class="invalid-feedback">Ingresa tu nombre.</div>
          </div>

          <div class="form-group">
            <label for="cedula">Cédula</label>
            <input id="cedula" name="Cedula" type="text" class="form-control"
                   pattern="[0-9]+" title="Solo números" required>
            <div class="invalid-feedback">Ingresa una cédula válida.</div>
          </div>

          <div class="form-group">
            <label for="email">Correo</label>
            <input id="email" name="Email" type="email" class="form-control" required>
            <div class="invalid-feedback">Ingresa un correo válido.</div>
          </div>

          <div class="form-group">
            <label for="phone">Celular</label>
            <input id="phone" name="Phone" type="tel" class="form-control"
                   pattern="\d{10}" title="10 dígitos" required>
            <div class="invalid-feedback">Ingresa un celular válido.</div>
          </div>

          <!-- Fecha de nacimiento -->
          <div class="form-group">
            <label for="birthDate">Fecha de nacimiento</label>
            <input id="birthDate" name="BirthDate" type="date"
                   class="form-control" required>
            <div class="invalid-feedback">Ingresa tu fecha de nacimiento.</div>
          </div>

          <!-- Tipo de Usuario y Rol -->
          <div class="form-group">
            <label for="tipoUsuario">Tipo de Usuario</label>
            <select id="tipoUsuario" name="UserType" class="form-control" required>
              <option value="" disabled selected>Seleccione...</option>
              <option value="Comprador">Comprador</option>
              <option value="Vendedor">Vendedor</option>
              <option value="Ambos">Ambos</option>
            </select>
            <div class="invalid-feedback">Selecciona un tipo de usuario.</div>
          </div>

          <div class="form-group">
            <label for="userRole">Rol del Usuario</label>
            <select id="userRole" name="UserRole" class="form-control" required>
              <option value="" disabled selected>Seleccione...</option>
              <option value="4">Comprador</option>
              <option value="5">Vendedor</option>
              <option value="12">Ambos</option>
            </select>
            <div class="invalid-feedback">Selecciona un rol.</div>
          </div>

          <div class="form-group">
            <label for="membership">Membresía</label>
            <select id="membership" name="Membership" class="form-control" required>
              <option value="" disabled selected>Seleccione...</option>
              <option value="1">Básica</option>
              <option value="2">Profesional</option>
              <option value="3">Premium</option>
            </select>
            <div class="invalid-feedback">Selecciona una membresía.</div>
          </div>

          <!-- Contraseñas -->
          <div class="form-group">
            <label for="password">Contraseña</label>
            <div class="password-container">
              <input id="password" name="Password" type="password"
                     class="form-control" minlength="8" required>
              <button type="button" id="togglePassword" class="password-toggle">
                <i class="bi bi-eye"></i>
              </button>
            </div>
            <div class="invalid-feedback">
              La contraseña es obligatoria y debe tener ≥8 caracteres.
            </div>
          </div>

          <div class="form-group">
            <label for="confirmPassword">Confirmar contraseña</label>
            <div class="password-container">
              <input id="confirmPassword" name="ConfirmPassword" type="password"
                     class="form-control" required>
              <button type="button" id="toggleConfirmPassword" class="password-toggle">
                <i class="bi bi-eye"></i>
              </button>
            </div>
            <div class="invalid-feedback">Las contraseñas no coinciden.</div>
          </div>

          <!-- Términos -->
          <div class="form-group">
            <label class="form-check form-check-inline" for="aceptaTerminos">
              <input id="aceptaTerminos" name="Terms" type="checkbox"
                     class="form-check-input me-2" value="true" required>
              Acepto Términos y Condiciones
            </label>
            <div class="invalid-feedback">Debes aceptarlos.</div>
          </div>

          <!-- Botón -->
          <button type="submit" id="submitButton" class="btn btn-primary w-100">
            Registrarse
            <span id="spinner" class="spinner-border spinner-border-sm d-none"></span>
          </button>
        </form>

        <div id="errorMessage" class="alert alert-danger d-none mt-3"></div>
        <div id="successMessage" class="alert alert-success d-none mt-3"></div>
      </div>
    </div>
  </div>

  <script src="js/registrarse.js" defer></script>
  <script src="js/session.js"></script>
</body>
</html>